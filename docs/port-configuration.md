# ポート設定に関する重要な注意

## localhost:8000の固定について

BooklightAIアプリケーションでは、以下の理由からバックエンドサーバーのポート番号を8000に固定しています：

1. **環境変数の整合性**: フロントエンドの`.env.development`ファイルでは`VITE_API_URL=http://localhost:8000`と設定されており、この値を変更すると環境変数の再設定が必要になり、予期しないエラーが発生する可能性があります。

2. **認証フロー**: Google OAuth認証フローなど、複数のコンポーネント間で一貫したURL設定が必要です。ポート番号を変更すると認証フローが破損する可能性があります。

3. **Chrome拡張機能との連携**: Chrome拡張機能はlocalhostの特定のポートと通信するよう設定されています。

## 開発時の注意点

- バックエンドサーバーは常に`uvicorn app.main:app --reload --port 8000`で起動してください。
- ポート8000が既に使用されている場合は、既存のプロセスを終了してから再起動してください。
- 別のポートを使用する場合は、すべての関連設定（フロントエンド環境変数、認証リダイレクトURI等）を一貫して変更する必要があります。

## トラブルシューティング

ポート8000が既に使用されているエラーが表示された場合：

1. 既存のプロセスを特定: `lsof -i :8000`
2. プロセスを終了: `kill -9 [PID]`
3. サーバーを再起動: `uvicorn app.main:app --reload --port 8000`

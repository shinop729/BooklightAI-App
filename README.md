# Booklight AI - ハイライト自動収集システム

Kindleのハイライト情報を自動的に収集し、Booklight AIアプリケーションと連携するシステムです。

## プロジェクト構成

このプロジェクトは以下のコンポーネントで構成されています：

1. **FastAPIバックエンド**
   - Chromeエクステンションからのハイライトデータを受け取り、保存するAPI
   - 認証機能
   - ハイライト管理機能

2. **Chromeエクステンション**
   - Kindle Web Readerからハイライト情報を収集
   - オフライン対応
   - バックエンドAPIとの連携

3. **Streamlitフロントエンド**（既存）
   - ユーザーインターフェース
   - ハイライト表示・検索
   - サマリ生成

## セットアップ手順

### FastAPIバックエンドのセットアップ

1. 依存関係のインストール
   ```bash
   cd api
   pip install -r requirements.txt
   ```

2. サーバーの起動
   ```bash
   cd api
   python run.py
   ```
   サーバーは http://localhost:8000 で起動します。

### Chromeエクステンションのセットアップ

1. Chromeを開き、`chrome://extensions/` にアクセス
2. 「デベロッパーモード」を有効化
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. `chrome-extension` ディレクトリを選択

注意: アイコンファイルは含まれていないため、拡張機能のアイコンは表示されません。必要に応じて `chrome-extension/images` ディレクトリに 16x16, 48x48, 128x128 サイズのアイコンファイルを追加してください。

## 使用方法

1. Chromeエクステンションをインストール
2. エクステンションのポップアップからログイン
3. Kindle Web Reader（https://read.amazon.co.jp/）にアクセス
4. ハイライトを表示するページを開く
5. エクステンションのポップアップから「ハイライトを収集」ボタンをクリック
6. 収集されたハイライトはBooklight AIアプリケーションで確認可能

## 開発ステータス

現在の実装は基本的な機能のみを含む初期バージョンです。以下の機能はまだ実装されていません：

- 実際のGoogle OAuth認証（現在はダミー認証）
- Kindle Web ReaderのDOM構造に合わせたセレクタの調整
- エラーハンドリングの強化
- セキュリティ強化
- ユーザーフィードバックの改善

## 次のステップ

1. FastAPIバックエンドの認証機能の完全実装
2. Kindle Web ReaderのDOM構造の詳細分析と適切なセレクタの実装
3. エラーハンドリングとオフラインモードの強化
4. StreamlitアプリケーションとFastAPIバックエンドの連携
5. セキュリティ強化（HTTPS対応、トークン管理など）
